@import uk.gov.hmrc.eeitt.models.AgentEnrollmentDetails
@import uk.gov.hmrc.play.frontend.auth.AuthContext

@(enrollmentForm: Form[AgentEnrollmentDetails], callbackUrl: String)(implicit request: Request[_], authContext: AuthContext)

@import views.html.helper.inputText
@import uk.gov.hmrc.play.views.html.helpers.inputRadioGroup

@sidebarContent = {
  <section id="side-bar-section" class="section--branded section--blue-top">
    @login_status(authContext)
  </section>
}

@* @main_template("Enrollment Verification", loginStatus = Some(login_status(authContext)), sidebarLinks = Some(sidebarLinks)) { *@
@main_template("Enrollment Verification", sidebarLinks = Some(sidebarContent)) {
  <header class="page-header">
    <h1>Register to submit forms online</h1>
  </header>

  <p>
    Enter your client's 15-digit Air Passenger Duty registration number and business postcode
  </p>

  <form action=@uk.gov.hmrc.eeitt.controllers.routes.EnrollmentVerificationController.submitAgentEnrollmentDetails(callbackUrl).url method="POST"ยก>

    @csrf_token()

    @enrollmentForm.globalError.map { error =>
      <div class="flash error-summary error-summary--show">
        @error.message
      </div>
    }

    <fieldset class="form-field-group">
      <label for="arn">
        Agent Reference Number
        <span
          id="arn-error-message"
          class="error-notification"
          data-input-name="arn">
        </span>
        <input
          type="text"
          name="arn"
          id="arn"
          class="form-control form-control--block"
          required
          pattern="^[a-zA-Z0-9]{3}$"
          data-msg-pattern="Please enter a valid registration number."
          data-msg-required="Please enter a valid registration number"
        >
      </label>
    </fieldset>

    <fieldset for="postcode" class="form-field-group">
      <label>
        Agent's business postcode
        <span
          id="postcode-error-message"
          class="error-notification"
          data-input-name="postcode">
        </span>
        <input
          type="text"
          name="postcode"
          id="postcode"
          class="form-control form-control--block"
          required
          data-msg-required="Please enter a postcode."
        >
      </label>
    </fieldset>

@*
      @inputText(
        enrollmentForm("arn"),
        '_label -> "Agent Reference Number",
        'class -> "form-control form-control--block"
      )

      @inputText(
        enrollmentForm("postcode"),
        '_label -> "Postcode",
        'class -> "form-control form-control--block"
      )
*@

    <input type="submit" class="button" value="Submit" />

  </form>

  <section class="subsection--wide">
    <h2>Problems signing in</h2>

    <details class="details">
      <summary id="registration-link-container" role="button" aria-expanded="false">
        Don't have an agent reference number
      </summary>
      <div class="details__inner" id="details-content-1">
        <p class="panel-indent">
          placeholder
        </p>
      </div>
    </details>

    <details class="details">
      <summary role="button" aria-expanded="false">
        Client doesn't have an Air Passenger Duty registration number
      </summary>
      <div class="details__inner" id="details-content-2">
        <p class="panel-indent">
          placeholder
        </p>
      </div>
    </details>

    <details class="details">
      <summary role="button" aria-expanded="false">Chat to an HMRC advisor online</summary>
      <div class="details__inner" id="details-content-3">
        <p class="panel-indent">
          placeholder
        </p>
      </div>
    </details>

    <details class="details">
      <summary role="button" aria-expanded="false">Get help with this page</summary>
      <div class="details__inner" id="details-content-3">
        <p class="panel-indent">
          placeholder
        </p>
      </div>
    </details>

  </section>
}